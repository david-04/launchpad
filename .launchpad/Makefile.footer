#-----------------------------------------------------------------------------------------------------------------------
# Help
#-----------------------------------------------------------------------------------------------------------------------

ifeq "$(call lp.help.is-enabled)" "true"

$(call lp.fn.declare-phony-targets, help, lp.target.help)

lp.target.help :
	$(info )
	$(call lp.help.print-targets)

endif

#-----------------------------------------------------------------------------------------------------------------------
# Diagnostics
#-----------------------------------------------------------------------------------------------------------------------

ifeq "$(call lp.diagnostics.is-enabled)" "true"

$(call lp.fn.declare-phony-targets, diagnostics, lp.target.diagnostics)

lp.target.diagnostics : ;
	$(call lp.tsc.print-diagnostics)

endif

#-----------------------------------------------------------------------------------------------------------------------
# Compile
#-----------------------------------------------------------------------------------------------------------------------

ifeq "$(call lp.tsc.is-enabled)" "true"

$(call lp.fn.declare-phony-targets, tsc, $(call lp.tsc.get-targets))

$(call lp.tsc.get-targets) : $(call lp.tsc.get-prerequisites)
	echo Compiling... \
		$(if $(call lp.tsc.get-before-hook), && $(call lp.tsc.get-before-hook)) \
		&& $(call lp.tsc.get-command) \
		$(if $(call lp.tsc.get-after-hook), && $(call lp.tsc.get-after-hook))

endif

#-----------------------------------------------------------------------------------------------------------------------
# Bundle
#-----------------------------------------------------------------------------------------------------------------------

# ifeq "$(__LP_BUNDLER_ENABLED)" "true"
#     ifeq "$(call lp.bundler.get-default-command)" "$(call lp.bundler.get-command)"
#         ifeq "$(strip $(__LP_ESBUILD_MAPPINGS))" ""
#             $(call lp.bundler.disable)
#         endif
#     endif
# endif

# ifeq "$(call lp.bundler.is-enabled)" "true"

# .PHONY: bundle bundler pack webpack esbuild

# $(call doc.target, bundle, $(LP_BUNDLER_DESCRIPTION))

# bundle bundler pack webpack esbuild : $(LP_TSC_BUILDINFO);

# $(call lp.bundler.get-targets) : $(call lp.bundler.get-prerequisites)
# 	echo Bundling... \
# 		$(if $(call lp.bundler.get-before-hooks), && $(call lp.bundler.get-before-hooks)) \
# 		&& $(call lp.bundler.get-command) \
# 		$(if $(call lp.bundler.get-after-hooks), && $(call lp.bundler.get-after-hooks))

# endif
